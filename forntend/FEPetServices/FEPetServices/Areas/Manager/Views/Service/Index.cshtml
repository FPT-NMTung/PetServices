<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="~/css/HomeService.css"></link>
  </head>
  <body>
    <div class="container">
    <h1 class="heading"> Dịch Vụ Thú Cưng</h1>
    
    <div class="group">
       <img class="icon" src="/img/kitty.png">
       
       <form method="get" action="@Url.Action("ServiceList")">
            <input class="input" name="CategoriesName" type="text" placeholder="Nhập tên phòng" value="@ViewBag.CategoriesName">
        </form>
    </div>
    
    <div class="card-container">
      @if (Model != null && Model.Count > 0)
            {
                @foreach (var serviceCategory in Model)
                {

                    string description = serviceCategory.Desciptions;

                    if (description?.Length > 100)
                    {
                        int lastSpace = description.LastIndexOf(' ', 100);

                        description = (lastSpace > 0) ? description.Substring(0, lastSpace) + "..." : description.Substring(0, 100) + "...";
                    }
                    <div class="card">
                        <div class="image">
                            <img src="@serviceCategory.Picture">
                        </div>


                        <div class="card-content">

                            <h3>@serviceCategory.SerCategoriesName</h3>

                            <p>@description</p>

                        </div>
                        <div class="learn">
                            <a href="" class="learn-more">Xem Chi Tiết</a>
                        </div>

                    </div>
                }
            }else
                {
                    <tr>
                        <td colspan="5" style="color:red">Không có dữ liệu để hiển thị.</td>
                    </tr>
                }
        
         
     </div>
  <div style="text-align:center;">   
            @if (ViewBag.TotalPages > 1)
            {
                <ul class="pagination">
                    @if (ViewBag.CurrentPage > 1)
                    {
                        <li class="page-item">
                            <a class="page-link" href="@Url.Action("ServiceList", new { page = ViewBag.CurrentPage - 1, pageSize = ViewBag.PageSize })">Previous</a>
                        </li>
                    }

                    @for (int i = 1; i <= ViewBag.TotalPages; i++)
                    {
                        <li class="page-item @(ViewBag.CurrentPage == i ? "active" : "")">
                            <a class="page-link" href="@Url.Action("ServiceList", new { page = i, pageSize = ViewBag.PageSize })">@i</a>
                        </li>
                    }
                    @if (ViewBag.CurrentPage < ViewBag.TotalPages)
                    {
                        <li class="page-item">
                            <a class="page-link" href="@Url.Action("ServiceList", new { page = ViewBag.CurrentPage + 1, pageSize = ViewBag.PageSize})">Next</a>
                        </li>
                    }
                </ul>
            }
        </div>
</div>
  </body>
</html>